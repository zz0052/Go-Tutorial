### For-learning-Go-Tutorial

Go语言是谷歌2009发布的第二款开源编程语言

Go语言专门针对多处理器系统应用程序的编程进行了优化，使用Go编译的程序可以媲美C或C++代码的速度，而且更加安全、支持并行进程。

因而一直想的是自己可以根据自己学习和使用Go语言编程的心得，写一本Go的书可以帮助想要学习Go语言的初学者快速入门开发和使用！

#### Goroutine并发处理

在了解Goroutine并发处理之前，我们先了解并发与并行 (Concurrency and Parallelism)．

**并发**是指程序的逻辑结构,交替做不同事的能力,在这里通常是不同程序交替执行的性能.

**并行**是指程序的运行状态,同时做不同事的能力,在这里通常是指不同程序同时执行的性能.

如果某个系统支持两个或者多个动作（Action）同时存在，那么这个系统就是一个**并发系统**。如果某个系统支持两个或者多个动作同时执行，那么这个系统就是一个**并行系统**。

并发系统与并行系统这两个定义之间的关键差异在于“存在”这个词。在并发程序中可以同时拥有两个或者多个线程。这意味着，如果程序在单核处理器上运行，那么这两个线程将交替地换入或者换出内存。这些线程是同时“存在”的——每个线程都处于执行过程中的某个状态。如果程序能够并行执行，那么就一定是运行在多核处理器上。

此时，程序中的每个线程都将分配到一个独立的处理器核上，因此可以同时运行。这里相信你已经能够得出结论——“并行”概念是“并发”概念的一个子集。也就是说，你可以编写一个拥有多个线程或者进程的并发程序，但如果没有多核处理器来执行这个程序，那么就不能以并行方式来运行代码。因此，凡是在求解单个问题时涉及多个执行流程的编程模式或者执行行为，都属于并发编程的范畴。

理解了并发和并行后，我们在看看Goroutine.

Goroutine是Go语言原生支持并发的具体实现，在Go中的代码都是运行在goroutine中的。Goroutine占用的资源非常小(Go 1.4将每个goroutine stack的size默认设置为2k)，goroutine调度的切换也不用陷入(trap)操作系统内核层完成，代价很低。因此，一个Go程序中可以创建成千上万个并发的goroutine。

所有的Go代码都在goroutine中执行，即使是go的runtime也不例外。我们可以启动成千上万的goroutine，但是Go的runtime负责对goroutine进行调度。这里的调度就是决定何时哪个goroutine将获得资源开始执行、哪个goroutine应该停止执行让出资源、哪个goroutine应该被唤醒恢复执行等.

但是很多人其实并没有深入的了解过Goroutine的调度模型和原理，那么Goroutine是怎么实现调度的呢？

Go的调度器内部有三个重要的结构： P,M,G。P对象(processor) 代表cpu，M(work thread)代表工作线程，G对象（goroutine）.

